# Telegram Summarizer (Суммаризатор Телеграм)

Этот проект представляет собой комплексный набор инструментов, предназначенный для автоматического сбора сообщений из вашего аккаунта Telegram, их анализа с помощью больших языковых моделей и представления информации в чистом веб-интерфейсе.

## Архитектура

Система состоит из трех основных компонентов, работающих вместе:

1.  **Скрепер (`scraper/main.py`)**: Мощный скрепер, созданный с использованием библиотеки Telethon. Он подключается к вашему аккаунту Telegram как пользователь, отслеживает все входящие сообщения в реальном времени и сохраняет их в локальную базу данных SQLite (`data/telegram_messages.db`). Этот компонент является основой системы и отвечает за сбор всех данных.

2.  **Бот (`bot/main.py`)**: Телеграм-бот, созданный с помощью `pyTelegramBotAPI`. Этот бот предоставляет интерфейс для взаимодействия с собранными данными. Его основная функция — брать необработанные сообщения, отправлять их в GigaChat API для суммирования и сохранять результаты обратно в базу данных.

3.  **Веб-интерфейс (`web/main.py`)**: Простой и интуитивно понятный веб-интерфейс, созданный с помощью Flask. Он позволяет просматривать все собранные сообщения, сгенерированные сводки и получать быстрый обзор состояния системы.

Все компоненты спроектированы для совместной работы через центральную базу данных SQLite.

## Настройка и установка

Выполните следующие шаги, чтобы запустить проект.

### 1. Клонируйте репозиторий

Сначала клонируйте этот репозиторий на свой локальный компьютер:

```bash
git clone https://github.com/roman-rachkov/zerocde-intensiv.git
cd zerocde-intensiv
```

### 2. Настройте виртуальное окружение

Настоятельно рекомендуется использовать виртуальное окружение для управления зависимостями.

```bash
# Создайте виртуальное окружение
python -m venv venv

# Активируйте его
# В Windows (Command Prompt)
venv\Scripts\activate.bat
# В Windows (PowerShell)
venv\Scripts\Activate.ps1
# В macOS/Linux
source venv/bin/activate
```

### 3. Установите зависимости

Установите все необходимые пакеты Python с помощью файла `requirements.txt`:

```bash
pip install -r requirements.txt
```

### 4. Настройте приложение

Проект использует файл `.env` для управления всей конфиденциальной информацией, такой как API-ключи и токены.

1.  **Создайте файл `.env`**, скопировав файл-пример:
    ```bash
    cp .env.example .env
    ```

2.  **Отредактируйте файл `.env`** и впишите свои данные:

    *   `API_ID` и `API_HASH`: Получите их на [my.telegram.org](https://my.telegram.org) для вашего аккаунта Telegram.
    *   `BOT_TOKEN`: Получите его у [@BotFather](https://t.me/BotFather) в Telegram, создав нового бота.
    *   `GIGACHAT_CLIENT_ID` и `GIGACHAT_CLIENT_SECRET`: Это ваши учетные данные для GigaChat API.

## Запуск приложения

Проект поставляется с централизованным скриптом `run.py` для управления всеми компонентами.

### Запуск скрепера

Скрепер — самая важная часть системы. Он работает в активном режиме, подключается к вашему аккаунту Telegram и сохраняет все входящие сообщения.

Чтобы запустить скрепер:

```bash
python run.py scrape
```

При первом запуске вам будет предложено ввести номер телефона, код, который вы получите в Telegram, и пароль двухфакторной аутентификации, если он у вас установлен. Это создаст файл `.session` в каталоге `data`, так что вам не придется входить в систему каждый раз.

### Запуск бота

Бот предоставляет интерфейс для создания сводок. Запустите его с помощью:

```bash
python run.py bot
```

Как только бот будет запущен, вы сможете взаимодействовать с ним в Telegram. Отправьте ему `/start`, чтобы увидеть список доступных команд.

### Запуск веб-интерфейса

Веб-интерфейс предоставляет доступ к собранным данным. Чтобы запустить его, выполните:

```bash
python run.py web
```

Это запустит локальный веб-сервер. Вы можете получить к нему доступ, перейдя по адресу `http://127.0.0.1:5001` в вашем веб-браузере.

## Использование

1.  **Сначала запустите скрепер**, чтобы начать сбор сообщений. Оставьте его работать в отдельном терминале.
2.  **Запустите бота** в другом терминале. Затем вы можете использовать команды бота для создания сводок по собранным сообщениям.
3.  **Запустите веб-интерфейс**, чтобы просматривать собранные сообщения и сгенерированные сводки.
